{"version":3,"sources":["uni-app:///main.js","webpack:///F:/websocket/card-game/pages/homepage/homepage.vue?2a36","webpack:///F:/websocket/card-game/pages/homepage/homepage.vue?1759","webpack:///F:/websocket/card-game/pages/homepage/homepage.vue?f47a","webpack:///F:/websocket/card-game/pages/homepage/homepage.vue?3296","uni-app:///pages/homepage/homepage.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,qG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACoN;AACpN,gBAAgB,4NAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAA60B,CAAgB,61BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0Hj2B,sD;;;;;AAKA,wE;AACA;AACA,MADA,kBACA;AACA;AACA,oBADA;AAEA,kBAFA;AAGA,YAHA;AAIA,kBAJA;AAKA,iBALA;AAMA,eANA;AAOA,gBAPA;AAQA,kBARA;AASA,kBATA;AAUA,oBAVA;AAWA,qBAXA;AAYA,uBAZA;AAaA,wBAbA;AAcA,qBAdA;AAeA,kBAfA;AAgBA,mBAhBA;AAiBA,iBAjBA;AAkBA,iBAlBA;AAmBA,qBAnBA;AAoBA,oBApBA;AAqBA,oBArBA;AAsBA,kBAtBA;AAuBA,0BAvBA;AAwBA,8BAxBA;AAyBA,+BAzBA;AA0BA,kBA1BA;AA2BA,wBA3BA;AA4BA,yBA5BA;;AA8BA,GAhCA;AAiCA,QAjCA,oBAiCA;AACA;AACA,WADA,CACA,yBADA;AAEA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA;AACA;AACA,GA7DA;AA8DA;AACA,QADA,gBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA,WARA,mBAQA,GARA,EAQA;AACA;AACA,KAVA;AAWA,aAXA,qBAWA,GAXA,EAWA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAlCA;AAmCA,YAnCA,oBAmCA,GAnCA,EAmCA;AACA;AACA,KArCA;AAsCA,eAtCA,uBAsCA,GAtCA,EAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,KAhDA;AAiDA,cAjDA,sBAiDA,GAjDA,EAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA,IAHA;AAIA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA;AACA;AACA;AACA,WAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAtJA;AAuJA,SAvJA,mBAuJA;AACA;AACA,iCADA,GADA,SACA,GADA;;AAIA;AACA,sCALA;AAMA,KA7JA;AA8JA,cA9JA,sBA8JA,CA9JA,EA8JA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KApKA;AAqKA,QArKA,kBAqKA;AACA;AACA,iCADA;AAEA,6CAFA,GADA,SACA,GADA;;AAKA;AACA,iCANA;AAOA,KA5KA;AA6KA,SA7KA,mBA6KA;AACA,0CADA;AAEA;AACA,+BADA;AAEA,gCAFA,IAFA;;;;AAQA,oBARA,GAQA,EARA;AASA;AACA;AACA,iBAFA,EATA;AAYA;AACA,iCADA;AAEA,6CAFA;AAGA,+BAHA,GAZA,SAYA,GAZA;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA,qBAvBA,GAuBA,EAvBA;AAwBA;AACA;AACA;AACA;AACA,iBAJA;AAKA;AACA;AACA;AACA;AACA,iBAFA,EAEA,IAFA,EA/BA;AAkCA,KA/MA;AAgNA,WAhNA,qBAgNA;AACA;AACA,iCADA;AAEA,qCAFA;AAGA,6CAHA,GADA,SACA,GADA;;AAMA,kCANA;AAOA,KAvNA;AAwNA,WAxNA,qBAwNA;AACA;AACA;AACA,KA3NA;AA4NA,aA5NA,qBA4NA,CA5NA,EA4NA,CA5NA,EA4NA;AACA,wCADA;AAEA;AACA;AACA;AACA;AACA;AACA,yCAPA;AAQA,KApOA;AAqOA,gBArOA,0BAqOA;AACA;AACA;AACA,mBADA;AAEA,gCAFA;AAGA,yBAHA;AAIA,sBAJA;AAKA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,SAZA;;AAcA,KArPA;AAsPA,eAtPA,yBAsPA;AACA;AACA,kCADA;AAEA,8CAFA,GADA,SACA,GADA;;AAKA;AACA,sCANA;AAOA,KA7PA;AA8PA,eA9PA,yBA8PA;AACA,kDADA,SACA,GADA;AAEA,4CAFA;AAGA,KAjQA;AAkQA;AACA;AACA,gCADA;AAEA,oDAFA,GADA,SACA,GADA;;AAKA;AACA;AACA;AACA;AARA,2EASA,CA3QA;AA4QA,GA5QA,EA4QA;AACA;AACA,gCADA;AAEA,6BAFA,GADA,SACA,GADA;;AAKA,GAjRA,YA9DA,E","file":"pages/homepage/homepage.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/homepage/homepage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./homepage.vue?vue&type=template&id=5fc20246&\"\nvar renderjs\nimport script from \"./homepage.vue?vue&type=script&lang=js&\"\nexport * from \"./homepage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/homepage/homepage.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./homepage.vue?vue&type=template&id=5fc20246&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !_vm.liaotian\n    ? _vm.__map(_vm.cardList, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var g0 = _vm.OutCard.findIndex(function(v) {\n          return v.id == item.id\n        })\n        return {\n          $orig: $orig,\n          g0: g0\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./homepage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./homepage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<view class=\"homepage zongCenter\" v-if=\"liaotian\">\r\n\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">房间列表</view>\r\n\t\t\t<view @click=\"goToPages('../index/index',item)\" class=\"zongCenter\" v-for=\"item in homeList\" style=\"width: 80%;height: 80rpx;border: 1px solid #ccc;border-radius: 10rpx;margin-bottom: 20rpx;\">\r\n\t\t\t\t{{item.name}}\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"homeList.length == 0\" style=\"margin-top: 20rpx;margin-bottom: 20rpx;\" @click=\"shuaxin()\">\r\n\t\t\t\t暂无房间\r\n\t\t\t</view>\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t<view @click=\"newRoom()\" style=\"width: 200rpx;height: 60rpx;background-color: #4CD964;text-align: center;line-height: 60rpx;border-radius: 10rpx;\">\r\n\t\t\t\t\t新建房间\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"\">\r\n\t\t\t\t<view @click=\"fapai()\" style=\"width: 200rpx;height: 60rpx;background-color: #4CD964;text-align: center;line-height: 60rpx;border-radius: 10rpx;margin-top: 20rpx;\">\r\n\t\t\t\t\t发牌\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t\t<view class=\"index\" v-if=\"!liaotian\" style=\"background-image: url(../../static/beijing.jpg);background-repeat: no-repeat;background-size: 100% 100%;\">\r\n\t\t\t<!-- <view style=\"width: 100%;height: 70vh;\">\r\n\t\t\t\t<view v-for=\"item in msgList\" class=\"zongCenter\" style=\"padding: 0 20rpx 0 20rpx;\">\r\n\t\t\t\t\t<view v-if=\"item.type == 1\" style=\"max-width: 70%;align-self: flex-start;margin-top: 20rpx;background-color: #fff;padding: 20rpx;border-radius: 10rpx;\">\r\n\t\t\t\t\t\t{{item.msg}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"item.type == 2\" style=\"max-width: 70%;align-self: flex-end;margin-top: 20rpx;background-color: #129611;padding: 20rpx;border-radius: 10rpx;\">\r\n\t\t\t\t\t\t{{item.msg}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"item.type == 3\" style=\"font-size: 20rpx;padding: 0 20rpx 0 20rpx;background-color: #ccc;color: #fff;border-radius: 20rpx;margin-top: 20rpx;\">\r\n\t\t\t\t\t\t{{item.nickName+item.msg}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"width: 100%;height: 30vh;background-color: #fff;padding: 20rpx;border-top: 1px solid #ccc;\">\r\n\t\t\t\t<textarea style=\"width: 100%;height: 24vh;\" v-model=\"title\" placeholder=\"输入信息\" />\r\n\t\t\t\t<view style=\"width: 100%;display: flex;justify-content: flex-end;\">\r\n\t\t\t\t\t<text style=\"background-color: #129611;color: #fff;padding: 10rpx 20rpx 10rpx 20rpx;border-radius: 5rpx;\" @click=\"RoomMsg()\">发送</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view style=\"width: 100%;height: 70vh;display: flex;align-items: center;justify-content: space-between;\">\r\n\t\t\t\t<view v-if=\"playerleft!=''\" class=\"\" style=\"width: 30%;height: 100%;position: relative;padding: 20rpx;\">\r\n\t\t\t\t\t<image v-if=\"dizhuId == playerleft.id&&playGame\" style=\"position: absolute;top: 10vh;width: 30%;right: 5%;\" src=\"../../static/SE/dizhu.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<image v-else-if=\"playGame\" style=\"position: absolute;top: 10vh;width: 30%;right: 5%;\" src=\"../../static/SE/nonmin.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<view style=\"position: absolute;top: 10vh;width: auto;text-align: center;left: 3vw;color: #FFFFFF;font-size: 40rpx;font-weight: 800;\">\r\n\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t{{playerleft!=''?playerleft.nickName:'玩家未加入'}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image src=\"../../static/SE/tou1.png\" mode=\"widthFix\" style=\"width: 10vw;\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"playerleft!=''\" style=\"width: 100%;height: 10vh;position: absolute;top: 23vh;left: 1vw;display: flex;align-items: center;justify-content: center;\" :style=\"{backgroundColor: playGame?'':'#DD524D'}\">\r\n\t\t\t\t\t\t<view v-if=\"playGame\" style=\"display: flex;align-items: center;width: 100%;flex-wrap: wrap;\">\r\n\t\t\t\t\t\t\t<image v-for=\"index of playerleftNum\" src=\"../../static/SE/cardBack.png\" mode=\"widthFix\" style=\"width: 2vh;margin-right: 10rpx;margin-bottom: 10rpx;\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t游戏未开始\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else style=\"width: 30%;height: 100%;position: relative;padding: 20rpx;border-right: 1px solid #ccc;\"></view>\r\n\t\t\t\t<view style=\"display: flex;width: 40%;height: 70vh;align-items: flex-start;flex-direction: column;\">\r\n\t\t\t\t\t<view style=\"width: 100%;display: flex;align-items: center;justify-content: space-between;padding: 20rpx;\">\r\n\t\t\t\t\t\t<view v-if=\"threeCard[0]\" style=\"width: 4vh;height: 6vh;text-align: center;\">\r\n\t\t\t\t\t\t\t<!-- {{threeCard[0].name}} -->\r\n\t\t\t\t\t\t\t<image :src=\"`../../static/${threeCard[0].id}.jpg`\" style=\"width: 100%;\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"threeCard[1]\" style=\"width: 4vh;height: 6vh;text-align: center;\">\r\n\t\t\t\t\t\t\t<image :src=\"`../../static/${threeCard[1].id}.jpg`\" style=\"width: 100%;\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"threeCard[2]\" style=\"width: 4vh;height: 6vh;text-align: center;\">\r\n\t\t\t\t\t\t\t<image :src=\"`../../static/${threeCard[2].id}.jpg`\" style=\"width: 100%;\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"width: 100%;text-align: center;margin-top: 30vh;margin-bottom: 1vh;color: #fff;\">\r\n\t\t\t\t\t\t{{`当前出牌:${publicName}`}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"width: 100%;display: flex;align-items: center;padding: 30rpx;flex-wrap: wrap;\">\r\n\t\t\t\t\t\t<image v-if=\"publicList[0]\" v-for=\"(item,index) in publicList\" :src=\"`../../static/${item.id}.jpg`\" style=\"width: 3vh;height: 4vh;margin-right: 10rpx;margin-top: 20rpx;\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"playerright!=''\" class=\"\" style=\"width: 30%;height: 100%;position: relative;padding: 20rpx;\">\r\n\t\t\t\t\t<image v-if=\"dizhuId == playerright.id &&playGame\" style=\"position: absolute;top: 10vh;width: 30%;right: 5%;\" src=\"../../static/SE/dizhu.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<image v-else-if=\"playGame\" style=\"position: absolute;top: 10vh;width: 30%;right: 5%;\" src=\"../../static/SE/nonmin.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<view style=\"position: absolute;top: 10vh;width: auto;text-align: center;left: 0;color: #FFFFFF;font-size: 40rpx;font-weight: 800;\">\r\n\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t{{playerright!=''?playerright.nickName:'玩家未加入'}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image src=\"../../static/SE/tou5.png\" mode=\"widthFix\" style=\"width: 10vw;\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"playerright!=''\" style=\"width: 100%;height: 10vh;position: absolute;top: 23vh;left: 0;display: flex;align-items: center;justify-content: center;\" :style=\"{backgroundColor: playGame?'':'#DD524D'}\">\r\n\t\t\t\t\t\t<view v-if=\"playGame\" style=\"display: flex;align-items: center;width: 100%;flex-wrap: wrap;\">\r\n\t\t\t\t\t\t\t<image v-for=\"index of playerrightNum\" src=\"../../static/SE/cardBack.png\" mode=\"widthFix\" style=\"width: 2vh;margin-right: 10rpx;margin-bottom: 10rpx;\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t游戏未开始\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else style=\"width: 30%;height: 100%;position: relative;padding: 20rpx;border-left: 1px solid #ccc;\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"width: 100%;height: 30vh;padding: 20rpx;border-top: 1px solid #ccc;display: flex;flex-wrap: wrap;background-repeat: no-repeat;background-size:100% 100%;\" :style=\"{backgroundImage: id==dizhuId?'url(../../static/SE/mydizhu.png)':'url(../../static/SE/mynongmin.png)'}\">\r\n\t\t\t\t<image @click=\"changecard(index)\" v-for=\"(item,index) in cardList\" :src=\"`../../static/${item.id}.jpg`\" style=\"width: 4vh;height: 6vh;margin-right: 20rpx;text-align: center;\" :style=\"{border:OutCard.findIndex((v) => {return v.id == item.id})>-1?'3px solid #007AFF':''}\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<image v-if=\"myroom&&fapai1\" @click=\"fapai()\" src=\"../../static/SE/kaishiyouxi.png\" mode=\"widthFix\" style=\"width:220rpx;margin-right: 20rpx;position: fixed;bottom: 30vh;left: 35%;\"></image>\r\n\t\t\t<view v-else-if=\"dapaiBtn\" style=\"position: fixed;bottom: 32vh;left: 30%;display: flex;\">\r\n\t\t\t\t<image @click=\"dapai()\" src=\"../../static/SE/chupai.png\" mode=\"widthFix\" style=\"width:140rpx;margin-right: 20rpx;\"></image>\r\n\t\t\t\t<image v-if=\"buchu\" @click=\"pass()\" src=\"../../static/SE/buchu.png\" mode=\"widthFix\" style=\"width: 140rpx;\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 炸弹 -->\r\n\t\t<view v-if=\"playAnimation\" style=\"width: 100vw;height: 70vh;position: fixed;left: 0;top: 0;\" class=\"animation-bomb\">\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<!-- 顺子 -->\r\n\t\t<image v-if=\"playAnimationSunzi\" src=\"../../static/SE/suanzi.png\" mode=\"widthFix\" class=\"animated bounceInLeft\" style=\"width: 200rpx;position: fixed;right: 30vw;top: 50vh;\"></image>\r\n\t\t<!-- 飞机 -->\r\n\t\t<!-- <image v-if=\"playAnimationfeiji\" src=\"../../static/SE/feiji.png\" mode=\"widthFix\" style=\"position: fixed;left: 50vw;transform: translateX(-50%);top: -40vh;\" class=\"animation-feiji\"></image> -->\r\n\t</view>\n</template>\n\n<script>\r\n\timport {\r\n\t\tpost,\r\n\t\tput,\r\n\t\tget\r\n\t} from '@/api/http';\r\n\tlet signalR = require('../../tools/signalr.min.js')\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tliaotian:true,\r\n\t\t\t\thomeList:[],\r\n\t\t\t\tid:'',\r\n\t\t\t\troomName:'',\r\n\t\t\t\tmsgList:[],\r\n\t\t\t\ttitle: '',\r\n\t\t\t\troomid:'',\r\n\t\t\t\tmyroom:true,\r\n\t\t\t\tfapai1:true,\r\n\t\t\t\tplayerleft:{},\r\n\t\t\t\tplayerright:{},\r\n\t\t\t\tplayerleftNum:17,\r\n\t\t\t\tplayerrightNum:17,\r\n\t\t\t\tplayGame:false,\r\n\t\t\t\tcardList:[],\r\n\t\t\t\tthreeCard:[],\r\n\t\t\t\tOutCard:[],\r\n\t\t\t\tdizhuId:'',\r\n\t\t\t\tdapaiBtn:false,\r\n\t\t\t\tpublicList:[],\r\n\t\t\t\tpublicName:'',\r\n\t\t\t\tpublicID:'',\r\n\t\t\t\tplayAnimation:false,\r\n\t\t\t\tplayAnimationfeiji:true,\r\n\t\t\t\tplayAnimationSunzi:false,\r\n\t\t\t\tbuchu:false,\r\n\t\t\t\ttouxiangleft:null,\r\n\t\t\t\ttouxiangright:null\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tconst conn = new signalR.HubConnectionBuilder()\r\n\t\t\t\t\t\t.withUrl(\"http://192.168.3.120/mj\")\r\n\t\t\t\t\t\t.build();\r\n\t\t\t// 接收公聊消息\r\n\t\t\tconn.on(\"Send\",this.Send);\r\n\t\t\t// 加入房间消息\r\n\t\t\tconn.on(\"JoinRoom\", this.JoinRoom);\r\n\t\t\t// 加入房间消息\r\n\t\t\tconn.on(\"RoomState\", this.RoomState);\r\n\t\t\t// 私聊消息\r\n\t\t\tconn.on(\"PrivateSend\", this.PrivateSend);\r\n\t\t\t// 房间内消息\r\n\t\t\tconn.on(\"NewRoom\", this.newRoom);\r\n\t\t\t// 房间内消息\r\n\t\t\tconn.on(\"SendToRoom\", this.SendToRoom);\r\n\t\t\tconn.on(\"Finished\", () => {\r\n\t\t\t    conn.stop();\r\n\t\t\t});\r\n\t\t\tconn.on(\"Self\", (obj) => {\r\n\t\t\t\tthis.id = obj\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t});\r\n\t\t\tconn.start().catch(err => console.log(err));\r\n\t\t\tthis.showNickName()\r\n\t\t\t// this.liaotian = false\r\n\t\t\t// this.dapaiBtn = true\r\n\t\t\t// this.fapai1 = false\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tSend(obj){\r\n\t\t\t\tif(obj.msg.indexOf(\"离开\")!=-1){\r\n\t\t\t\t\tobj.type = 3\r\n\t\t\t\t}\r\n\t\t\t\tthis.msgList.push(obj)\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t},\r\n\t\t\tnewRoom(obj){\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t},\r\n\t\t\tRoomState(obj){\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t\tif(obj.masterid == this.id){\r\n\t\t\t\t\tthis.myroom = true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.myroom = false\r\n\t\t\t\t}\r\n\t\t\t\tlet index1 = null\r\n\t\t\t\tobj.customers.forEach((e,index)=>{\r\n\t\t\t\t\tif(e.id == this.id){\r\n\t\t\t\t\t\tindex1 = index\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif(index1 == 0){\r\n\t\t\t\t\tthis.playerleft = obj.customers[2]?obj.customers[2]:''\r\n\t\t\t\t\tthis.playerright = obj.customers[1]?obj.customers[1]:''\r\n\t\t\t\t}else if(index1 == 1){\r\n\t\t\t\t\tthis.playerleft = obj.customers[0]?obj.customers[0]:''\r\n\t\t\t\t\tthis.playerright = obj.customers[2]?obj.customers[2]:''\r\n\t\t\t\t}else if(index1 == 2){\r\n\t\t\t\t\tthis.playerleft = obj.customers[1]?obj.customers[1]:''\r\n\t\t\t\t\tthis.playerright = obj.customers[0]?obj.customers[0]:''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tJoinRoom(obj){\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t},\r\n\t\t\tPrivateSend(obj){\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t\tthis.cardList = obj.msg\r\n\t\t\t\tlet list = []\r\n\t\t\t\tthis.$card.cards().forEach(e=>{\r\n\t\t\t\t\tif(this.cardList.indexOf(e.id)>-1){\r\n\t\t\t\t\t\tlist.push(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.cardList = list\r\n\t\t\t},\r\n\t\t\tSendToRoom(obj){\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t\tif(obj == 'close now'){\r\n\t\t\t\t\tthis.liaotian = true\r\n\t\t\t\t\tthis.msgList=[]\r\n\t\t\t\t\tthis.getRoomList()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(obj.msg == \"打出了牌\"){\r\n\t\t\t\t\tif(obj.curr == this.id){\r\n\t\t\t\t\t\tthis.dapaiBtn = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.dapaiBtn = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(obj.id == this.id){\r\n\t\t\t\t\t\tthis.buchu = false\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.buchu = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.playerleft.id == this.dizhuId){\r\n\t\t\t\t\t\tthis.playerleftNum = obj.conut\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.playerright.id == this.dizhuId){\r\n\t\t\t\t\t\tthis.playerrightNum = obj.conut\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet list = []\r\n\t\t\t\t\tthis.$card.cards().forEach(e=>{\r\n\t\t\t\t\t\tif(obj.card.indexOf(e.id)>-1){\r\n\t\t\t\t\t\t\tlist.push(e)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.publicList = list\r\n\t\t\t\t\tthis.publicName = obj.nickName\r\n\t\t\t\t\tthis.publicID = obj.id\r\n\t\t\t\t\tlet list1 = []\r\n\t\t\t\t\tlist.forEach(e=>{\r\n\t\t\t\t\t\tlist1.push(e.id)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(list1.length == 2 &&list1.toString() == 'SG-88,BG-99'){\r\n\t\t\t\t\t\tthis.playAnimation = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(list1.length == 4 &&this.$tools.judgeFun(list1)){\r\n\t\t\t\t\t\tthis.playAnimation = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(list1.length >= 5 &&this.$tools.sunziFun(list1)){\r\n\t\t\t\t\t\tthis.playAnimationSunzi = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.playAnimation = false\r\n\t\t\t\t\t\tthis.playAnimationSunzi = false\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t}\r\n\t\t\t\tif(obj.msg == \"跳过了出牌\"){\r\n\t\t\t\t\tif(obj.curr == this.id){\r\n\t\t\t\t\t\tthis.dapaiBtn = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.dapaiBtn = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(obj.curr == this.publicID){\r\n\t\t\t\t\t\tthis.buchu = false\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.buchu = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(obj.msg == \"成为地主\"){\r\n\t\t\t\t\tthis.playGame = true\r\n\t\t\t\t\tthis.dizhuId = obj.id\r\n\t\t\t\t\tif(obj.curr == this.id){\r\n\t\t\t\t\t\tthis.dapaiBtn = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.dapaiBtn = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet list = []\r\n\t\t\t\t\tthis.$card.cards().forEach(e=>{\r\n\t\t\t\t\t\tif(obj.card.indexOf(e.id)>-1){\r\n\t\t\t\t\t\t\tlist.push(e)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.threeCard = list\r\n\t\t\t\t\tif(this.id == obj.id){\r\n\t\t\t\t\t\tthis.cardList = [...this.cardList,...list]\r\n\t\t\t\t\t\tthis.cardList.sort(function(a,b){\r\n\t\t\t\t\t\t\treturn a.num - b.num;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.playerleft.id == this.dizhuId){\r\n\t\t\t\t\t\tthis.playerleftNum = this.playerleftNum + 3\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.playerright.id == this.dizhuId){\r\n\t\t\t\t\t\tthis.playerrightNum = this.playerrightNum + 3\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(obj.msg.indexOf(\"加入\")!=-1){\r\n\t\t\t\t\tobj.type = 3\r\n\t\t\t\t}else if(obj.id == this.id){\r\n\t\t\t\t\tobj.type = 2\r\n\t\t\t\t}else{\r\n\t\t\t\t\tobj.type = 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.msgList.push(obj)\r\n\t\t\t},\r\n\t\t\tasync fapai(){\r\n\t\t\t\tlet res = await post('home/DrawCard',{\r\n\t\t\t\t\tid:this.id\r\n\t\t\t\t})\r\n\t\t\t\tthis.fapai1 = false\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t},\r\n\t\t\tchangecard(e){\r\n\t\t\t\tif(this.OutCard.findIndex((v) => {return v.id == this.cardList[e].id}) == -1){\r\n\t\t\t\t\tthis.OutCard.push(this.cardList[e])\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.OutCard.splice(this.OutCard.findIndex((v) => {return v.id == this.cardList[e].id}), 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync pass(){\r\n\t\t\t\tlet res = await post('home/pass',{\r\n\t\t\t\t\tid:this.id,\r\n\t\t\t\t\troomName:this.roomName\r\n\t\t\t\t})\r\n\t\t\t\tthis.OutCard = []\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t},\r\n\t\t\tasync dapai(){\r\n\t\t\t\tif(this.OutCard.length == 0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\ttitle:'您未选择牌'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet list = []\r\n\t\t\t\tthis.OutCard.forEach(e=>{\r\n\t\t\t\t\tlist.push(e.id)\r\n\t\t\t\t})\r\n\t\t\t\tlet res = await post('home/OutCard',{\r\n\t\t\t\t\tid:this.id,\r\n\t\t\t\t\troomName:this.roomName,\r\n\t\t\t\t\tcards:list\r\n\t\t\t\t})\r\n\t\t\t\tif(list.length == 2 &&list.toString() == 'SG-88,BG-99'){\r\n\t\t\t\t\tthis.playAnimation = true\r\n\t\t\t\t}\r\n\t\t\t\tif(list.length == 4 &&this.$tools.judgeFun(list)){\r\n\t\t\t\t\tthis.playAnimation = true\r\n\t\t\t\t}\r\n\t\t\t\tlet list1 = []\r\n\t\t\t\tthis.cardList.forEach((e,index)=>{\r\n\t\t\t\t\tif(!this.OutCard.find((v) => {return v.id == this.cardList[index].id})){\r\n\t\t\t\t\t\tlist1.push(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.cardList = list1\r\n\t\t\t\tthis.OutCard = []\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.playAnimation = false\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\tasync RoomMsg() {\r\n\t\t\t\tlet res = await post('home/SendToRoom',{\r\n\t\t\t\t\tid:this.id,\r\n\t\t\t\t\tmsg:this.title,\r\n\t\t\t\t\troomName:this.roomName\r\n\t\t\t\t})\r\n\t\t\t\tthis.title = ''\r\n\t\t\t},\r\n\t\t\tshuaxin(){\r\n\t\t\t\tthis.homeList = []\r\n\t\t\t\tthis.getRoomList()\r\n\t\t\t},\r\n\t\t\tasync goToPages(a,b){\r\n\t\t\t\tawait this.inRoom(b.name)\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl:a + '?b=' + b.name\r\n\t\t\t\t// })\r\n\t\t\t\tthis.roomName = b.name\r\n\t\t\t\tthis.roomid = b.masterid\r\n\t\t\t\tthis.liaotian = false\r\n\t\t\t},\r\n\t\t\tshowNickName(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'提示',\r\n\t\t\t\t\tplaceholderText: '请输入昵称',\r\n\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\teditable:true,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif(res.content == ''){\r\n\t\t\t\t\t\t\tthat.showNickName()\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthat.nickName = res.content\r\n\t\t\t\t\t\t\tthat.setNickName()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync setNickName() {\r\n\t\t\t\tlet res = await post('home/bindInfo',{\r\n\t\t\t\t\tid:this.id,\r\n\t\t\t\t\tnickName:this.nickName\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.getRoomList()\r\n\t\t\t},\r\n\t\t\tasync getRoomList() {\r\n\t\t\t\tlet res = await post('home/RoomList')\r\n\t\t\t\tthis.homeList = res.data\r\n\t\t\t},\r\n\t\t\tasync newRoom() {\r\n\t\t\t\tlet res = await post('home/newRoom',{\r\n\t\t\t\t\tid:this.id,\r\n\t\t\t\t\troomName:this.nickName+'的房间'\r\n\t\t\t\t})\r\n\t\t\t\tthis.getRoomList()\r\n\t\t\t\t// this.goToPages('../index/index',{\r\n\t\t\t\t// \tname:this.nickName+'的房间'\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\tasync inRoom(e) {\r\n\t\t\t\tlet res = await post('home/JoinRoom',{\r\n\t\t\t\t\tid:this.id,\r\n\t\t\t\t\troomName:e\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}